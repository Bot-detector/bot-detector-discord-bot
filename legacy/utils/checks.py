from discord.ext.commands import Context


OWNER_ROLE = 817917060796776469
STAFF_ROLE = 858763870042456084
HEAD_DETECTIVE_ROLE = 855341635079503872
DETECTIVE_ROLE = 830507560783183888
PATREON_ROLE = 830782790786220104
VERIFIED_PLAYER_ROLE = 831196988976529438

# id's of the commands channels
DETECTIVE_COMMANDS_CHANNEL = 890723372307198003
DETECTIVE_LIST_SUBMISSION_CHANNEL = 837779037900374059
CREATOR_COMMANDS_CHANNEL = 822589004028444712
PATREON_COMMANDS_CHANNEL = 830783778325528626
GENERAL_COMMANDS_CHANNEL = 825189024074563614


ALLOWED_CHANNELS = (
    DETECTIVE_COMMANDS_CHANNEL,
    DETECTIVE_LIST_SUBMISSION_CHANNEL,
    CREATOR_COMMANDS_CHANNEL,
    PATREON_COMMANDS_CHANNEL,
    GENERAL_COMMANDS_CHANNEL,
)

PREVILEGED_ROLES = (OWNER_ROLE, STAFF_ROLE)


async def is_allowed_channel(ctx: Context):
    for role in PREVILEGED_ROLES:
        if ctx.author.get_role(role):
            return True
    return ctx.channel.id in (ALLOWED_CHANNELS)
